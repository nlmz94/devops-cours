{
  "version": 4,
  "terraform_version": "1.0.11",
  "serial": 106,
  "lineage": "c16465a4-cdb0-3861-2c12-fbc8a86b8a97",
  "outputs": {},
  "resources": [
    {
      "mode": "managed",
      "type": "scaleway_instance_ip",
      "name": "server_ip",
      "provider": "provider[\"registry.terraform.io/scaleway/scaleway\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "address": "51.158.114.253",
            "id": "fr-par-1/3ebdaf87-eec3-4e7a-96a5-7271f68dedc3",
            "organization_id": "2c1abec4-43a9-4123-9708-11ef95bbfa9c",
            "project_id": "2c1abec4-43a9-4123-9708-11ef95bbfa9c",
            "reverse": "",
            "server_id": "fr-par-1/a01678e6-7e39-4b13-a563-aeb8bb014183",
            "timeouts": null,
            "zone": "fr-par-1"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMCwiZGVmYXVsdCI6NjAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "address": "163.172.183.15",
            "id": "fr-par-1/346dac8e-2aa3-45ad-8363-c633ce864da7",
            "organization_id": "2c1abec4-43a9-4123-9708-11ef95bbfa9c",
            "project_id": "2c1abec4-43a9-4123-9708-11ef95bbfa9c",
            "reverse": "",
            "server_id": "fr-par-1/b4d8fe49-a6cb-405d-a5c7-5a299a01fed0",
            "timeouts": null,
            "zone": "fr-par-1"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMCwiZGVmYXVsdCI6NjAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scaleway_instance_server",
      "name": "servers",
      "provider": "provider[\"registry.terraform.io/scaleway/scaleway\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "additional_volume_ids": [],
            "boot_type": "local",
            "bootscript_id": "fdfe150f-a870-4ce4-b432-9f56b5b995c1",
            "cloud_init": null,
            "enable_dynamic_ip": false,
            "enable_ipv6": false,
            "id": "fr-par-1/a01678e6-7e39-4b13-a563-aeb8bb014183",
            "image": "ubuntu_focal",
            "ip_id": "fr-par-1/3ebdaf87-eec3-4e7a-96a5-7271f68dedc3",
            "ipv6_address": "",
            "ipv6_gateway": "",
            "ipv6_prefix_length": 0,
            "name": "test-node-server-devops",
            "organization_id": "2c1abec4-43a9-4123-9708-11ef95bbfa9c",
            "placement_group_id": null,
            "placement_group_policy_respected": null,
            "private_ip": "10.64.40.127",
            "project_id": "2c1abec4-43a9-4123-9708-11ef95bbfa9c",
            "public_ip": "51.158.114.253",
            "root_volume": [
              {
                "delete_on_termination": true,
                "size_in_gb": 20,
                "volume_id": "fr-par-1/e2806d8e-ca33-48b8-b94d-20f4490724eb"
              }
            ],
            "security_group_id": "fr-par-1/07c4af9c-457b-444e-9171-35038cafdbee",
            "state": "started",
            "tags": [],
            "timeouts": null,
            "type": "DEV1-S",
            "user_data": {
              "DATABASE_URI": "postgres://my_root_user:My_r00t_p4sSw0rD@51.159.9.176:1120/rdb"
            },
            "zone": "fr-par-1"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "user_data"
              },
              {
                "type": "index",
                "value": {
                  "value": "DATABASE_URI",
                  "type": "string"
                }
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlZmF1bHQiOjYwMDAwMDAwMDAwMCwiZGVsZXRlIjo2MDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "scaleway_instance_ip.server_ip",
            "scaleway_rdb_instance.database"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "additional_volume_ids": [],
            "boot_type": "local",
            "bootscript_id": "fdfe150f-a870-4ce4-b432-9f56b5b995c1",
            "cloud_init": null,
            "enable_dynamic_ip": false,
            "enable_ipv6": false,
            "id": "fr-par-1/b4d8fe49-a6cb-405d-a5c7-5a299a01fed0",
            "image": "ubuntu_focal",
            "ip_id": "fr-par-1/346dac8e-2aa3-45ad-8363-c633ce864da7",
            "ipv6_address": "",
            "ipv6_gateway": "",
            "ipv6_prefix_length": 0,
            "name": "test-node-server-devops",
            "organization_id": "2c1abec4-43a9-4123-9708-11ef95bbfa9c",
            "placement_group_id": null,
            "placement_group_policy_respected": null,
            "private_ip": "10.65.48.55",
            "project_id": "2c1abec4-43a9-4123-9708-11ef95bbfa9c",
            "public_ip": "163.172.183.15",
            "root_volume": [
              {
                "delete_on_termination": true,
                "size_in_gb": 20,
                "volume_id": "fr-par-1/02106698-6d05-4ca1-b7c2-df5f6b5eb2f0"
              }
            ],
            "security_group_id": "fr-par-1/07c4af9c-457b-444e-9171-35038cafdbee",
            "state": "started",
            "tags": [],
            "timeouts": null,
            "type": "DEV1-S",
            "user_data": {
              "DATABASE_URI": "postgres://my_root_user:My_r00t_p4sSw0rD@51.159.9.176:1120/rdb"
            },
            "zone": "fr-par-1"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "user_data"
              },
              {
                "type": "index",
                "value": {
                  "value": "DATABASE_URI",
                  "type": "string"
                }
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlZmF1bHQiOjYwMDAwMDAwMDAwMCwiZGVsZXRlIjo2MDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "scaleway_rdb_instance.database",
            "scaleway_instance_ip.server_ip"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scaleway_lb",
      "name": "base_lb",
      "provider": "provider[\"registry.terraform.io/scaleway/scaleway\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "fr-par-1/34560e92-c0e0-469c-8ea1-931d9cfba009",
            "ip_address": "51.159.27.87",
            "ip_id": "fr-par-1/6c19269f-729e-47f7-93a1-5c8f0ec180d0",
            "name": "tf-lb-magical-morse",
            "organization_id": "2c1abec4-43a9-4123-9708-11ef95bbfa9c",
            "project_id": "2c1abec4-43a9-4123-9708-11ef95bbfa9c",
            "region": "fr-par",
            "tags": [],
            "timeouts": null,
            "type": "LB-S",
            "zone": "fr-par-1"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlZmF1bHQiOjYwMDAwMDAwMDAwMCwiZGVsZXRlIjo2MDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "scaleway_lb_ip.ip"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scaleway_lb_backend",
      "name": "backend01",
      "provider": "provider[\"registry.terraform.io/scaleway/scaleway\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "forward_port": 80,
            "forward_port_algorithm": "roundrobin",
            "forward_protocol": "http",
            "health_check_delay": "1m0s",
            "health_check_http": [],
            "health_check_https": [],
            "health_check_max_retries": 2,
            "health_check_port": 80,
            "health_check_tcp": [
              {}
            ],
            "health_check_timeout": "30s",
            "id": "fr-par-1/5270bb46-c624-4b1a-9199-c68fa5aa00da",
            "lb_id": "fr-par-1/34560e92-c0e0-469c-8ea1-931d9cfba009",
            "name": "backend01",
            "on_marked_down_action": "none",
            "proxy_protocol": "none",
            "send_proxy_v2": false,
            "server_ips": [
              "10.64.40.127",
              "10.65.48.55"
            ],
            "sticky_sessions": "none",
            "sticky_sessions_cookie_name": "",
            "timeout_connect": "",
            "timeout_server": "",
            "timeout_tunnel": "",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlZmF1bHQiOjYwMDAwMDAwMDAwMCwiZGVsZXRlIjo2MDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "scaleway_instance_server.servers",
            "scaleway_lb.base_lb"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scaleway_lb_frontend",
      "name": "frontend01",
      "provider": "provider[\"registry.terraform.io/scaleway/scaleway\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "acl": [],
            "backend_id": "fr-par-1/5270bb46-c624-4b1a-9199-c68fa5aa00da",
            "certificate_id": "",
            "id": "fr-par-1/cbc21fed-4474-41f8-b0b4-4cbefdd7cd64",
            "inbound_port": 80,
            "lb_id": "fr-par-1/34560e92-c0e0-469c-8ea1-931d9cfba009",
            "name": "frontend01",
            "timeout_client": "",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlZmF1bHQiOjYwMDAwMDAwMDAwMCwiZGVsZXRlIjo2MDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "scaleway_instance_server.servers",
            "scaleway_lb.base_lb",
            "scaleway_lb_backend.backend01"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scaleway_lb_ip",
      "name": "ip",
      "provider": "provider[\"registry.terraform.io/scaleway/scaleway\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "fr-par-1/6c19269f-729e-47f7-93a1-5c8f0ec180d0",
            "ip_address": "51.159.27.87",
            "lb_id": "34560e92-c0e0-469c-8ea1-931d9cfba009",
            "organization_id": "2c1abec4-43a9-4123-9708-11ef95bbfa9c",
            "project_id": "2c1abec4-43a9-4123-9708-11ef95bbfa9c",
            "region": "fr-par",
            "reverse": "51-159-27-87.lb.fr-par.scw.cloud",
            "timeouts": null,
            "zone": "fr-par-1"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlZmF1bHQiOjYwMDAwMDAwMDAwMCwiZGVsZXRlIjo2MDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "scaleway_rdb_instance",
      "name": "database",
      "provider": "provider[\"registry.terraform.io/scaleway/scaleway\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "certificate": "-----BEGIN CERTIFICATE-----\nMIID9TCCAt2gAwIBAgIUaF9ANQaxWJcEuFPtTWe7IWBqo+AwDQYJKoZIhvcNAQEL\nBQAwgYcxCzAJBgNVBAYTAkZSMQ4wDAYDVQQIDAVQYXJpczEOMAwGA1UEBwwFUGFy\naXMxETAPBgNVBAoMCFNjYWxld2F5MUUwQwYDVQQDDDxydy1jMTQ1ZjI1Zi1mZWUy\nLTQyYjAtOWUzYy1kMDA0OTJjOWQ2NTcucmRiLmZyLXBhci5zY3cuY2xvdWQwHhcN\nMjExMTE3MDg0MDMwWhcNMzExMTE1MDg0MDMwWjCBhzELMAkGA1UEBhMCRlIxDjAM\nBgNVBAgMBVBhcmlzMQ4wDAYDVQQHDAVQYXJpczERMA8GA1UECgwIU2NhbGV3YXkx\nRTBDBgNVBAMMPHJ3LWMxNDVmMjVmLWZlZTItNDJiMC05ZTNjLWQwMDQ5MmM5ZDY1\nNy5yZGIuZnItcGFyLnNjdy5jbG91ZDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCC\nAQoCggEBAMxJBvG87dvso6QA43ss8CuE/W+5+Yqs4/werGZDcAto72J30sLDWUpv\nA6Eqmsk86vyT1Uq69YWmCy80ni34ZhVpIQtkIjvctb5SgGkt4kfJq/om7ltm3mV+\n+3sYIBUpjbFa12yem4V6XDgUyk248vAwRVXxjVN3YgXvvtimIrDymy7cCa7UozDq\nPPGEe+rUbN1C8FmA6VBPrZPi78tVRZFII9FJ8yJLi1aWyPPMc8WatqGqdzjNmBKZ\nQTE7rnBC9hFJkCRaqgk1irvO5IidjAN44yE4r0xN4Ofg2DgZTLHdhYo/z9kSTMd7\n/qCay9GZC4hf9M7v0X6hGp07HjmjWhMCAwEAAaNXMFUwUwYDVR0RBEwwSoI8cnct\nYzE0NWYyNWYtZmVlMi00MmIwLTllM2MtZDAwNDkyYzlkNjU3LnJkYi5mci1wYXIu\nc2N3LmNsb3VkhwTUL+2GhwQznwmwMA0GCSqGSIb3DQEBCwUAA4IBAQADyJ5nn1/K\nerMOYkB//mEUdtV7C99uDeAoURNtR4mcaqdGVZJHvQlQuWR7XlahxaKHPhRwgf08\nth3iBN/VGiaD1IIkkDQHeOwVZsrQjKnss88amDsYMJqaSeAR7EkMgUFNgkJP9g5H\nsk02pwxTtDdxzZTcfrhY/Ni6Z9Gr1HjhruE6MZHsvlTWQuSGGcj2/FyzOy2N27e6\nJJhfGDMX0c9pXNrZ1Q7+kZ8DIinhfzH3dl5Ljy2ONlBnPks4tAQXyC2kuW2d4qA+\nXHiW78Q3QDGalhCfxVfz3sQ9DT9XJt6EomJmtEFCVvjamoCLgL4EYhCCqSPM/rti\nqbUlCDP0sne6\n-----END CERTIFICATE-----\n",
            "disable_backup": true,
            "endpoint_ip": "51.159.9.176",
            "endpoint_port": 1120,
            "engine": "PostgreSQL-12",
            "id": "fr-par/c145f25f-fee2-42b0-9e3c-d00492c9d657",
            "is_ha_cluster": false,
            "name": "test-database-devops",
            "node_type": "db-dev-s",
            "organization_id": "2c1abec4-43a9-4123-9708-11ef95bbfa9c",
            "password": "My_r00t_p4sSw0rD",
            "project_id": "2c1abec4-43a9-4123-9708-11ef95bbfa9c",
            "read_replicas": [],
            "region": "fr-par",
            "settings": {
              "effective_cache_size": "1300",
              "maintenance_work_mem": "150",
              "max_connections": "100",
              "max_parallel_workers": "0",
              "max_parallel_workers_per_gather": "0",
              "work_mem": "4"
            },
            "tags": [],
            "timeouts": null,
            "user_name": "my_root_user",
            "volume_size_in_gb": 5,
            "volume_type": "lssd"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo5MDAwMDAwMDAwMDAsImRlZmF1bHQiOjkwMDAwMDAwMDAwMCwiZGVsZXRlIjo5MDAwMDAwMDAwMDAsInJlYWQiOjkwMDAwMDAwMDAwMCwidXBkYXRlIjo5MDAwMDAwMDAwMDB9fQ=="
        }
      ]
    }
  ]
}
